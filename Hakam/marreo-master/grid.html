<template name="layout">
    <!-- Page Wrapper -->
    <!-- In the PHP version you can set the following options from inc/config file -->
    <!--
            Available classes:

            'page-loading'      enables page preloader
        -->
    <div id="page-wrapper" class="page-loading">
        <!-- Preloader -->
        <!-- Preloader functionality (initialized in js/app.js) - pageLoading() -->
        <!-- Used only if page preloader enabled from inc/config (PHP version) or the class 'page-loading' is added in body element (HTML version) -->
        <div class="preloader">
            <div class="inner">
                <!-- Animation spinner for all modern browsers -->
                <div class="preloader-spinner themed-background hidden-lt-ie10"></div>

                <!-- Text for IE9 -->
                <h3 class="text-primary visible-lt-ie10">
                    <strong>Loading..</strong>
                </h3>
            </div>
        </div>
        <!-- END Preloader -->

        <!-- Page Container -->
        <!-- In the PHP version you can set the following options from inc/config file -->
        <!--
                Available #page-container classes:

                'sidebar-visible-lg-mini'                       main sidebar condensed - Mini Navigation (> 991px)
                'sidebar-visible-lg-full'                       main sidebar full - Full Navigation (> 991px)

                'sidebar-alt-visible-lg'                        alternative sidebar visible by default (> 991px) (You can add it along with another class)

                'header-fixed-top'                              has to be added only if the class 'navbar-fixed-top' was added on header.navbar
                'header-fixed-bottom'                           has to be added only if the class 'navbar-fixed-bottom' was added on header.navbar

                'fixed-width'                                   for a fixed width layout (can only be used with a static header/main sidebar layout)
            -->
        <div id="page-container" class="header-fixed-top sidebar-visible-lg-mini">
            <!-- Alternative Sidebar -->
            <div id="sidebar-alt" tabindex="-1" aria-hidden="true">
                <!-- Toggle Alternative Sidebar Button (visible only in static layout) -->
                <a href="javascript:void(0)" id="sidebar-alt-close" onclick="App.sidebar('toggle-sidebar-alt');"><i class="fa fa-times"></i></a>

                <!-- Wrapper for scrolling functionality -->
                <div id="sidebar-scroll-alt">
                    <!-- Sidebar Content -->
                    <div class="sidebar-content">
                        <!-- Color Themes -->
                        <!-- Preview a theme on a page functionality can be found in js/app.js - colorThemePreview() -->
                        <div class="sidebar-section">
                            <h2 class="text-light">Colors</h2>
                            <ul class="sidebar-themes clearfix">
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-default" data-theme="default" data-theme-navbar="navbar-inverse"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-social" data-theme="css/themes/social.css" data-theme-navbar="navbar-inverse"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-flat" data-theme="css/themes/flat.css" data-theme-navbar="navbar-inverse"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-amethyst" data-theme="css/themes/amethyst.css" data-theme-navbar="navbar-inverse"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-creme" data-theme="css/themes/creme.css" data-theme-navbar="navbar-inverse"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-passion" data-theme="css/themes/passion.css" data-theme-navbar="navbar-inverse"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-default themed-navbar-light" data-theme="default" data-theme-navbar="navbar-default"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-social themed-navbar-light" data-theme="css/themes/social.css" data-theme-navbar="navbar-default"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-flat themed-navbar-light" data-theme="css/themes/flat.css" data-theme-navbar="navbar-default"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-amethyst themed-navbar-light" data-theme="css/themes/amethyst.css" data-theme-navbar="navbar-default"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-creme themed-navbar-light" data-theme="css/themes/creme.css" data-theme-navbar="navbar-default"></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)" class="themed-background-passion themed-navbar-light" data-theme="css/themes/passion.css" data-theme-navbar="navbar-default"></a>
                                </li>
                            </ul>
                        </div>
                        <!-- END Color Themes -->

                        <!-- Profile -->
                        <div class="sidebar-section">
                            <h2 class="text-light">Profile</h2>
                            <form action="index.html" method="post" class="form-control-borderless" onsubmit="return false;">
                                <div class="form-group">
                                    <label for="side-profile-name">Name</label>
                                    <input type="text" id="side-profile-name" name="side-profile-name" class="form-control" value="John Doe">
                                </div>
                                <div class="form-group">
                                    <label for="side-profile-email">Email</label>
                                    <input type="email" id="side-profile-email" name="side-profile-email" class="form-control" value="john.doe@example.com">
                                </div>
                                <div class="form-group">
                                    <label for="side-profile-password">New Password</label>
                                    <input type="password" id="side-profile-password" name="side-profile-password" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="side-profile-password-confirm">Confirm New Password</label>
                                    <input type="password" id="side-profile-password-confirm" name="side-profile-password-confirm" class="form-control">
                                </div>
                                <div class="form-group remove-margin">
                                    <button type="submit" class="btn btn-effect-ripple btn-primary" onclick="App.sidebar('close-sidebar-alt');">Save</button>
                                </div>
                            </form>
                        </div>
                        <!-- END Profile -->

                        <!-- Settings -->
                        <div class="sidebar-section">
                            <h2 class="text-light">Settings</h2>
                            <form action="index.html" method="post" class="form-horizontal form-control-borderless" onsubmit="return false;">
                                <div class="form-group">
                                    <label class="col-xs-7 control-label-fixed">Notifications</label>
                                    <div class="col-xs-5">
                                        <label class="switch switch-success">
                                            <input type="checkbox" checked>
                                            <span></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-xs-7 control-label-fixed">Public Profile</label>
                                    <div class="col-xs-5">
                                        <label class="switch switch-success">
                                            <input type="checkbox" checked>
                                            <span></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-xs-7 control-label-fixed">Enable API</label>
                                    <div class="col-xs-5">
                                        <label class="switch switch-success">
                                            <input type="checkbox">
                                            <span></span>
                                        </label>
                                    </div>
                                </div>
                                <div class="form-group remove-margin">
                                    <button type="submit" class="btn btn-effect-ripple btn-primary" onclick="App.sidebar('close-sidebar-alt');">Save</button>
                                </div>
                            </form>
                        </div>
                        <!-- END Settings -->
                    </div>
                    <!-- END Sidebar Content -->
                </div>
                <!-- END Wrapper for scrolling functionality -->
            </div>
            <!-- END Alternative Sidebar -->

            <!-- Main Sidebar -->
            <div id="sidebar">
                <!-- Sidebar Brand -->
                <div id="sidebar-brand" class="themed-background">
                    <a href="index.html" class="sidebar-title">
                        <i class="fa fa-cube"></i> 
                        <span class="sidebar-nav-mini-hide">Graph
                            <strong>Paper</strong>
                        </span>
                    </a>
                </div>
                <!-- END Sidebar Brand -->

                <!-- Wrapper for scrolling functionality -->
                <div id="sidebar-scroll">
                    <!-- Sidebar Content -->
                    <div class="sidebar-content">
                        <!-- Sidebar Navigation -->
                        <ul class="sidebar-nav">
                            <li>
                                <a href="{{pathFor 'create'}}"><i class="gi gi-plus sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Create new Canvas</span></a>
                            </li>

                            <li>
                                <a href="index.html"><i class="gi gi-compass sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Dashboard</span></a>
                            </li>
                            <li class="sidebar-separator">
                                <i class="fa fa-ellipsis-h"></i>
                            </li>
                            <li>
                                <a href="#" class="sidebar-nav-menu"><i class="fa fa-chevron-left sidebar-nav-indicator sidebar-nav-mini-hide"></i><i class="fa fa-rocket sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">User Interface</span></a>
                                <ul>
                                    <li>
                                        <a href="page_ui_widgets.html">Widgets</a>
                                    </li>
                                    <li>
                                        <a href="#" class="sidebar-nav-submenu"><i class="fa fa-chevron-left sidebar-nav-indicator"></i>Elements</a>
                                        <ul>
                                            <li>
                                                <a href="page_ui_blocks_grid.html">Blocks &amp; Grid</a>
                                            </li>
                                            <li>
                                                <a href="page_ui_typography.html">Typography</a>
                                            </li>
                                            <li>
                                                <a href="page_ui_buttons_dropdowns.html">Buttons &amp; Dropdowns</a>
                                            </li>
                                            <li>
                                                <a href="page_ui_navigation_more.html">Navigation &amp; More</a>
                                            </li>
                                            <li>
                                                <a href="page_ui_progress_loading.html">Progress &amp; Loading</a>
                                            </li>
                                            <li>
                                                <a href="page_ui_tables.html">Tables</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="#" class="sidebar-nav-submenu"><i class="fa fa-chevron-left sidebar-nav-indicator"></i>Forms</a>
                                        <ul>
                                            <li>
                                                <a href="page_forms_components.html">Components</a>
                                            </li>
                                            <li>
                                                <a href="page_forms_wizard.html">Wizard</a>
                                            </li>
                                            <li>
                                                <a href="page_forms_validation.html">Validation</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="#" class="sidebar-nav-submenu"><i class="fa fa-chevron-left sidebar-nav-indicator"></i>Icon Packs</a>
                                        <ul>
                                            <li>
                                                <a href="page_ui_icons_fontawesome.html">Font Awesome</a>
                                            </li>
                                            <li>
                                                <a href="page_ui_icons_glyphicons_pro.html">Glyphicons Pro</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#" class="sidebar-nav-menu"><i class="fa fa-chevron-left sidebar-nav-indicator sidebar-nav-mini-hide"></i><i class="gi gi-airplane sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Components</span></a>
                                <ul>
                                    <li>
                                        <a href="page_comp_gallery.html">Gallery</a>
                                    </li>
                                    <li>
                                        <a href="page_comp_maps.html">Google Maps</a>
                                    </li>
                                    <li>
                                        <a href="page_comp_calendar.html">Calendar</a>
                                    </li>
                                    <li>
                                        <a href="page_comp_charts.html">Charts</a>
                                    </li>
                                    <li>
                                        <a href="page_comp_animations.html">CSS3 Animations</a>
                                    </li>
                                    <li>
                                        <a href="page_comp_nestable.html">Nestable &amp; Sortable Lists</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <a href="#" class="sidebar-nav-menu"><i class="fa fa-chevron-left sidebar-nav-indicator sidebar-nav-mini-hide"></i><i class="gi gi-more_items sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">UI Layouts</span></a>
                                <ul>
                                    <li>
                                        <a href="page_layout_static.html">Static</a>
                                    </li>
                                    <li>
                                        <a href="page_layout_static_fixed_width.html">Static Fixed Width</a>
                                    </li>
                                    <li>
                                        <a href="page_layout_fixed_top.html">Top Header (Fixed)</a>
                                    </li>
                                    <li>
                                        <a href="page_layout_fixed_bottom.html">Bottom Header (Fixed)</a>
                                    </li>
                                    <li>
                                        <a href="page_layout_static_sidebar_mini.html">Sidebar Mini (Static)</a>
                                    </li>
                                    <li>
                                        <a href="page_layout_fixed_sidebar_mini.html">Sidebar Mini (Fixed)</a>
                                    </li>
                                    <li>
                                        <a href="page_layout_alternative_sidebar_visible.html">Visible Alternative Sidebar</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="active">
                                <a href="#" class="sidebar-nav-menu"><i class="fa fa-chevron-left sidebar-nav-indicator sidebar-nav-mini-hide"></i><i class="fa fa-gift sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Extra Pages</span></a>
                                <ul>
                                    <li>
                                        <a href="page_ready_error.html">Error Page</a>
                                    </li>
                                    <li>
                                        <a href="page_ready_blank.html" class=" active">Blank</a>
                                    </li>
                                    <li>
                                        <a href="page_ready_article.html">Article</a>
                                    </li>
                                    <li>
                                        <a href="page_ready_timeline.html">Timeline</a>
                                    </li>
                                    <li>
                                        <a href="page_ready_invoice.html">Invoice</a>
                                    </li>
                                    <li>
                                        <a href="page_ready_search_results.html">Search Results</a>
                                    </li>
                                    <li>
                                        <a href="page_ready_pricing_tables.html">Pricing Tables</a>
                                    </li>
                                    <li>
                                        <a href="page_ready_faq.html">FAQ</a>
                                    </li>
                                    <li>
                                        <a href="#" class="sidebar-nav-submenu"><i class="fa fa-chevron-left sidebar-nav-indicator"></i>Login, Register &amp; Lock</a>
                                        <ul>
                                            <li>
                                                <a href="{{pathFor 'login'}}">Login</a>
                                            </li>
                                            <li>
                                                <a href="page_ready_reminder.html">Password Reminder</a>
                                            </li>
                                            <li>
                                                <a href="{{pathFor 'register'}}">Register</a>
                                            </li>
                                            <li>
                                                <a href="{{pathFor 'lock'}}">Lock Screen</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li class="sidebar-separator">
                                <i class="fa fa-ellipsis-h"></i>
                            </li>
                            <li>
                                <a href="page_app_email.html"><i class="gi gi-inbox sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Email Center</span></a>
                            </li>
                            <li>
                                <a href="page_app_social.html"><i class="fa fa-share-alt sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Social Net</span></a>
                            </li>
                            <li>
                                <a href="page_app_media.html"><i class="gi gi-picture sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Media Box</span></a>
                            </li>
                            <li>
                                <a href="page_app_estore.html"><i class="gi gi-shopping_cart sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">eStore</span></a>
                            </li>
                            <li>
                                <a href="{{pathFor help}}"><i class="gi gi-help sidebar-nav-icon"></i><span class="sidebar-nav-mini-hide">Help</span></a>
                            </li>
                        </ul>
                        <!-- END Sidebar Navigation -->
                    </div>
                    <!-- END Sidebar Content -->
                </div>
                <!-- END Wrapper for scrolling functionality -->

                <!-- Sidebar Extra Info -->
                <div id="sidebar-extra-info" class="sidebar-content sidebar-nav-mini-hide">
                    <div class="push-bit">
                        <span class="pull-right">
                            <a href="javascript:void(0)" class="text-light"><i class="fa fa-plus"></i></a>
                        </span>
                        <small>
                            <strong class="text-light">78 GB</strong>/ 100 GB</small>
                    </div>
                    <div class="progress progress-mini push-bit">
                        <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="78" aria-valuemin="0" aria-valuemax="100" style="width: 78%"></div>
                    </div>
                    <div class="text-center">
                        <!--  <small>Crafted with <i class="fa fa-heart text-danger"></i> by <a href="http://goo.gl/vNS3I" target="_blank">pixelcave</a>
                        </small>
                        <br>
                        <small>
                            <span id="year-copy"></span>&copy; <a href="http://goo.gl/RcsdAh" target="_blank">AppUI 1.1</a>
                        </small> -->
                    </div>
                </div>
                <!-- END Sidebar Extra Info -->
            </div>
            <!-- END Main Sidebar -->

            <!-- Main Container -->
            <div id="main-container">
                <!-- Header -->
                <!-- In the PHP version you can set the following options from inc/config file -->
                <!--
                        Available header.navbar classes:

                        'navbar-default'            for the default light header
                        'navbar-inverse'            for an alternative dark header

                        'navbar-fixed-top'          for a top fixed header (fixed main sidebar with scroll will be auto initialized, functionality can be found in js/app.js - handleSidebar())
                            'header-fixed-top'      has to be added on #page-container only if the class 'navbar-fixed-top' was added

                        'navbar-fixed-bottom'       for a bottom fixed header (fixed main sidebar with scroll will be auto initialized, functionality can be found in js/app.js - handleSidebar()))
                            'header-fixed-bottom'   has to be added on #page-container only if the class 'navbar-fixed-bottom' was added
                    -->
                <header class="navbar navbar-inverse navbar-fixed-top">
                    <!-- Left Header Navigation -->
                    <ul class="nav navbar-nav-custom">
                        <!-- Main Sidebar Toggle Button -->
                        <li>
                            <a href="javascript:void(0)" onclick="App.sidebar('toggle-sidebar');">
                                <i class="fa fa-ellipsis-v fa-fw animation-fadeInRight" id="sidebar-toggle-mini"></i>
                                <i class="fa fa-bars fa-fw animation-fadeInRight" id="sidebar-toggle-full"></i>
                            </a>
                        </li>
                        <!-- END Main Sidebar Toggle Button -->

                        <!-- Header Link -->
                        <li class="hidden-xs animation-fadeInQuick">
                            <a href="">
                                <strong>
                                    <!-- :: -->
                                </strong>
                            </a>
                        </li>
                        <!-- END Header Link -->
                    </ul>
                    <!-- END Left Header Navigation -->
                    <!-- Right Header Navigation -->
                    <ul class="nav navbar-nav-custom pull-right">
                        <!-- Search Form -->
                        <li>
                            <form action="page_ready_search_results.html" method="post" class="navbar-form-custom" role="search">
                                <input type="text" id="top-search" name="top-search" class="form-control" placeholder="Search..">
                            </form>
                        </li>
                        <!-- END Search Form -->

                        <!-- Alternative Sidebar Toggle Button -->
                        <li>
                            <a href="javascript:void(0)" onclick="App.sidebar('toggle-sidebar-alt');">
                                <i class="gi gi-settings"></i>
                            </a>
                        </li>
                        <!-- END Alternative Sidebar Toggle Button -->

                        <!-- User Dropdown -->
                        <li class="dropdown">
                            <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">
                                <img src="img/placeholders/avatars/avatar.jpg" alt="avatar">
                            </a>
                            <ul class="dropdown-menu dropdown-menu-right">
                                <li class="dropdown-header">
                                    <strong>ADMINISTRATOR</strong>
                                </li>
                                <li>
                                    <a href="page_app_email.html">
                                        <i class="fa fa-inbox fa-fw pull-right"></i>
                                        Inbox
                                    </a>
                                </li>
                                <li>
                                    <a href="page_app_social.html">
                                        <i class="fa fa-pencil-square fa-fw pull-right"></i>
                                        Profile
                                    </a>
                                </li>
                                <li>
                                    <a href="page_app_media.html">
                                        <i class="fa fa-picture-o fa-fw pull-right"></i>
                                        Media Manager
                                    </a>
                                </li>
                                <!-- <li class="divider"></li> -->
                                <li>
                                    <a href="javascript:void(0)" onclick="App.sidebar('toggle-sidebar-alt');">
                                        <i class="gi gi-settings fa-fw pull-right"></i>
                                        Settings
                                    </a>
                                </li>
                                <li>
                                    <a href="{{pathFor 'lock'}}">
                                        <i class="gi gi-lock fa-fw pull-right"></i>
                                        Lock Account
                                    </a>
                                </li>
                                <li>
                                    <a name="logout">
                                        <i class="fa fa-power-off fa-fw pull-right"></i>
                                        Log out
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <!-- END User Dropdown -->
                    </ul>
                    <!-- END Right Header Navigation -->
                </header>
                <!-- END Header -->

                <!-- Page content -->
                <div id="page-content">
                    <!-- Blank Header -->
                    <!-- <div class="content-header">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="header-section">
                                    <h1>Page Title</h1>
                                </div>
                            </div>
                            <div class="col-sm-6 hidden-xs">
                                <div class="header-section">
                                    <ul class="breadcrumb breadcrumb-top">
                                        <li>Extra Pages</li>
                                        <li><a href="">Blank</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div> -->
                    <!-- END Blank Header -->

                    <!-- Get Started Block -->
                    <div id="mx-main" class="block full">
                        <!-- Get Started Title -->
                        <!-- END Get Started Title -->

                        {{> yield}}
                    </div>
                    <!-- END Get Started Block -->
                </div>
                <!-- END Page Content -->
            </div>
            <!-- END Main Container -->
        </div>
        <!-- END Page Container -->
    </div>
    <!-- END Page Wrapper -->

    {{> popups}}
</template>

<template name="background">
    {{#with color}}
    <style>
    body {
    {{#if flat}}
        background: {{a}};
    {{else}}
        background: -webkit-linear-gradient(90deg, {{a}} 10%, {{b}} 90%);
        /* Chrome 10+, Saf5.1+ */
        background: -moz-linear-gradient(90deg, {{a}} 10%, {{b}} 90%);
        /* FF3.6+ */
        background: -ms-linear-gradient(90deg, {{a}} 10%, {{b}} 90%);
        /* IE10 */
        background: -o-linear-gradient(90deg, {{a}} 10%, {{b}} 90%);
        /* Opera 11.10+ */
        background: linear-gradient(90deg, {{a}} 10%, {{b}} 90%);
        /* W3C */
    }
    {{/if}}
    </style>
    {{/with}}
</template>
<template name="dev">
    {{> background}}
    {{> canvas}} {{> popups}}
</template>

<template name="canvas">
    <div class="main-container" style="position:relative; height:{{height}}px; width:{{width}}px">
        <svg style="z-index:1; pointer-events:none;position:absolute; height:{{height}}px; width:{{width}}px">
            <defs>
                <marker id='arrow' orient="auto" markerWidth='3' markerHeight='6' refX='0.1' refY='2'>
                    <!-- triangle pointing right (+x) -->
                    <path d='M0,0 V4 L2,2 Z' fill="#e74c3c" />
                </marker>
            </defs>

            {{#each links}} {{#each lines}}
            <path style="pointer-events:visible;" class="arrow" source="{{source}}" target="{{target}}" d="M{{x1}},{{y1}} S{{x3}},{{y3}},{{x2}},{{y2}}" fill="none" stroke="#bdc3c7" stroke-width="3" marker-end='url(#arrow)' />{{/each}} {{/each}} {{#with mousearrow}}
            <path d="M{{x1}},{{y1}} S{{x3}},{{y3}},{{x2}},{{y2}}" fill="none" stroke="#e74c3c" stroke-width="4" marker-end='url(#arrow)' />{{/with}} {{#if resizingSquare}} {{#with current}}
            <rect id="resizePreview1" x="{{xpos}}" y="{{ypos}}" fill="none" stroke="red" stroke-dasharray="4,8" />
            <rect id="resizePreview2" x="{{xpos}}" y="{{ypos}}" style="fill:blue;stroke:pink;stroke-width:5;fill-opacity:0.1;stroke-opacity:0.9" />{{/with}} {{/if}} {{#if movingSquare}} {{#with current}}
            <rect id="movePreview" height="{{heightpx}}" width="{{widthpx}}" style="fill:blue;stroke:pink;stroke-width:5;fill-opacity:0.1;stroke-opacity:0.9" />{{/with}} {{/if}}
        </svg>

        {{#each tiles}}
        <div id="{{_id}}" animated class="square tile" x="{{x}}" y="{{y}}" style="top:{{ypos}}px;
        left:{{xpos}}px;
        height:{{heightpx}}px;
        width:{{widthpx}}px;">
            <!-- paper-focusable -->
        </div>
        {{/each}} {{#each squares}}
        <div id="{{_id}}" animated class="square" x="{{x}}" y="{{y}}" style="top:{{ypos}}px;
    left:{{xpos}}px;
    height:{{heightpx}}px;
    width:{{widthpx}}px;
    border: 1px solid #ecf0f1;
    background:white;
    {{style}}">
            <!-- paper-focusable -->
            {{> UI.dynamic template=squareRenderer}}
            <paper-shadow z="1" animated></paper-shadow>
        </div>
        {{/each}}

        <core-drag-drop></core-drag-drop>

        {{#unless current.isTile}} {{#with fab "bottom-left"}}
        <paper-fab class="nano" name="link" icon="link" role="button" tabindex="0" aria-label="plus" style="top:{{y}}px;left:{{x}}px;"></paper-fab>
        {{/with}} {{#with fab "top-left"}}
        <paper-fab class="nano" name="enhance" icon="image:auto-fix" role="button" tabindex="0" aria-label="plus" style="top:{{y}}px;left:{{x}}px;"></paper-fab>
        {{/with}} {{#with fab "top-right"}}
        <paper-fab class="nano" name="delete" icon="clear" role="button" tabindex="0" aria-label="plus" style="top:{{y}}px;left:{{x}}px;background: #c0392b;"></paper-fab>
        {{/with}} {{#with fab "bottom-right"}}
        <paper-fab class="nano" name="resize" icon="unfold-more" role="button" tabindex="0" aria-label="plus" style="top:{{y}}px;left:{{x}}px;"></paper-fab>
        {{/with}} {{/unless}}
    </div>
</template>

<template name="mxData">
    {{{render}}}
    <paper-ripple fit></paper-ripple>
</template>

<template name="drawer">
    <core-toolbar>
        <mx-search flex></mx-search>
    </core-toolbar>
    <div class="content" fit>
        <button onclick="TogetherJS(this); return false;">Start Collaboration</button>
        {{#with searchResult}}
        <core-drag-drop></core-drag-drop>
        <div class="entity" style="cursor:move;">
            {{#if first images}}
            <div class="cover-image" style="background-image: url({{first images}});" uri="{{uri}}"></div>
            {{else}}
            <div style="height: 60px;"></div>
            {{/if}}

            <div class="slant-box"></div>
            <div class="content">
                <div class="title">
                    {{title}}
                </div>
                <div class="name">
                    {{name}}
                </div>
                <div class="description">
                    {{#if description}} {{{format description}}} {{/if}} {{#if uri}}
                    <spotify-previewbutton uri="{{uri}}"></spotify-previewbutton>
                    {{/if}}
                </div>
            </div>

            {{socialMediasUrl}}
        </div>
        {{/with}}
    </div>
</template>

<template name="popups">
    <div id="popup">
        <input type="text" id="command" />{{#if results}}
        <core-menu>
            {{#each results}}
            <paper-item iconSrc="{{icon}}" selected="{{#if selected}}true{{/if}}" value="{{example}}">
            <div style="line-height:normal;"><strong>{{example}}</strong><br/><small class="text-muted">{{description}}</small></div>
            </paper-item>
            {{/each}}
        </core-menu>
        {{/if}}

        <paper-shadow z="1"></paper-shadow>
    </div>

    <paper-dialog id="create-canvas" backdrop>
        {{> create}}
    </paper-dialog>
    <paper-toast id="toast"></paper-toast>
    <paper-dialog id="webservice-editor" backdrop>
        <h2>Web Service Call</h2>
        <div horizontal layout>
            <div>
                <paper-input id="webservice-url" floatinglabel label="Endpoint" type="url" error="Input is not a valid MMSI!" value="{{current.webservice.url}}"></paper-input>
                <br>
                <paper-input id="webservice-path" floatinglabel label="Key Path" type="text" value="{{current.webservice.path}}"></paper-input>

                <div center horizontal layout>
                    <div>Refresh Interval (mins)</div>
                    <paper-slider id="webservice-refresh" value="1" max="60" pin editable></paper-slider>
                </div>

                <br>
                <br>

                <div center horizontal layout>
                    <div flex>Proxy</div>
                    <paper-toggle-button id="webservice-proxy"></paper-toggle-button>
                </div>
            </div>

            <code-mirror id="webservice-mirror" mode="javascript" style="height:350px;width:400px;"></code-mirror>


        </div>
        <paper-button label="Decline" dismissive></paper-button>
        <paper-button label="Accept" affirmative autofocus></paper-button>
    </paper-dialog>

    <paper-dialog id="css-editor" backdrop>
        <code-mirror id="css-mirror" mode="css" style="height:320px;width:640px;"></code-mirror>
        <paper-button label="Decline" dismissive></paper-button>
        <paper-button label="Accept" affirmative autofocus></paper-button>
    </paper-dialog>

    <paper-dialog id="function-editor" backdrop>
        <code-mirror id="function-mirror" mode="javascript" style="height:320px;width:640px;"></code-mirror>
        <paper-button label="Decline" dismissive></paper-button>
        <paper-button label="Accept" affirmative autofocus></paper-button>
    </paper-dialog>

    <paper-dialog id="embed-editor" backdrop>
        <code-mirror id="embed-mirror" mode="html" style="height:320px;width:640px;"></code-mirror>
        <paper-button label="Decline" dismissive></paper-button>
        <paper-button label="Accept" affirmative autofocus></paper-button>
    </paper-dialog>
</template>

<template name="create">
    <section horizontal layout center center-justified style="height:100%">
        <div vertical layout>
            <h2>Create a New Canvas</h2>
            <paper-input id="canvas-title" type="text" floatingLabel label="Title"></paper-input>
            <paper-input id="canvas-password" type="password" floatingLabel label="Password"></paper-input>
            <paper-button id="submit-button" label="Create" raisedButton style="background:#1abc9c; color:white;"></paper-button>
        </div>
    </section>
</template>

<template name="login">
    <!-- Login Container -->
    <div id="login-container">
        <!-- Login Header -->
        <h1 class="h2 text-light text-center push-top-bottom animation-slideDown">
            <i class="fa fa-cube"></i> 
            <strong>Welcome to GraphPaper</strong>
        </h1>
        <!-- END Login Header -->

        <!-- Login Block -->
        <div class="block animation-fadeInQuickInv">
            <!-- Login Title -->
            <div class="block-title">
                <div class="block-options pull-right">
                    <a href="page_ready_reminder.html" class="btn btn-effect-ripple btn-primary" data-toggle="tooltip" data-placement="left" title="Forgot your password?"><i class="fa fa-exclamation-circle"></i></a>
                    <a href="{{pathFor 'register'}}" class="btn btn-effect-ripple btn-primary" data-toggle="tooltip" data-placement="left" title="Create new account"><i class="fa fa-plus"></i></a>
                </div>
                <h2>Please Login</h2>
            </div>
            <!-- END Login Title -->

            <!-- Login Form -->
            <form id="form-login" action="index.html" method="post" class="form-horizontal">
                <div class="form-group">
                    <div class="col-xs-12">
                        <input type="text" id="login-email" name="login-email" class="form-control" placeholder="Your email..">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-12">
                        <input type="password" id="login-password" name="login-password" class="form-control" placeholder="Your password..">
                    </div>
                </div>
                <div class="form-group form-actions">
                    <div class="col-xs-8">
                        <label class="csscheckbox csscheckbox-primary">
                            <input type="checkbox" id="login-remember-me" name="login-remember-me">
                            <span></span>
                        </label>
                        Remember Me?
                    </div>
                    <div class="col-xs-4 text-right">
                        <button type="submit" class="btn btn-effect-ripple btn-sm btn-primary"><i class="fa fa-check"></i> Let's Go</button>
                    </div>
                </div>
            </form>
            <!-- END Login Form -->
        </div>
        <!-- END Login Block -->

        {{> footer}}
    </div>
    <!-- END Login Container -->
</template>

<template name="register">
    <!-- Login Container -->
    <div id="login-container">
        <!-- Register Header -->
        <h1 class="h2 text-light text-center push-top-bottom animation-slideDown">
            <i class="fa fa-plus"></i> 
            <strong>Create Account</strong>
        </h1>
        <!-- END Register Header -->

        <!-- Register Form -->
        <div class="block animation-fadeInQuickInv">
            <!-- Register Title -->
            <div class="block-title">
                <div class="block-options pull-right">
                    <a href="{{pathFor 'login'}}" class="btn btn-effect-ripple btn-primary" data-toggle="tooltip" data-placement="left" title="Back to login"><i class="fa fa-user"></i></a>
                </div>
                <h2>Register</h2>
            </div>
            <!-- END Register Title -->

            <!-- Register Form -->
            <form id="form-register" action="page_ready_register.html" method="post" class="form-horizontal">
                <div class="form-group">
                    <div class="col-xs-12">
                        <input type="text" id="register-username" name="register-username" class="form-control" placeholder="Username">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-12">
                        <input type="text" id="register-email" name="register-email" class="form-control" placeholder="Email">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-12">
                        <input type="password" id="register-password" name="register-password" class="form-control" placeholder="Password">
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-xs-12">
                        <input type="password" id="register-password-verify" name="register-password-verify" class="form-control" placeholder="Verify Password">
                    </div>
                </div>
                <div class="form-group form-actions">
                    <div class="col-xs-6">
                        <label class="csscheckbox csscheckbox-primary" data-toggle="tooltip" title="Agree to the terms">
                            <input type="checkbox" id="register-terms" name="register-terms">
                            <span></span>
                        </label>
                        <a href="#modal-terms" data-toggle="modal">Terms</a>
                    </div>
                    <div class="col-xs-6 text-right">
                        <button type="submit" class="btn btn-effect-ripple btn-success"><i class="fa fa-plus"></i> Create Account</button>
                    </div>
                </div>
            </form>
            <!-- END Register Form -->
        </div>
        <!-- END Register Block -->

        {{> footer}}
    </div>
    <!-- END Login Container -->

    <!-- Modal Terms -->
    <div id="modal-terms" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title text-center">
                        <strong>Terms and Conditions</strong>
                    </h3>
                </div>
                <div class="modal-body">
                    <h4 class="page-header">1.
                        <strong>General</strong>
                    </h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ultrices, justo vel imperdiet gravida, urna ligula hendrerit nibh, ac cursus nibh sapien in purus. Mauris tincidunt tincidunt turpis in porta. Integer fermentum tincidunt auctor.</p>
                    <h4 class="page-header">2.
                        <strong>Account</strong>
                    </h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ultrices, justo vel imperdiet gravida, urna ligula hendrerit nibh, ac cursus nibh sapien in purus. Mauris tincidunt tincidunt turpis in porta. Integer fermentum tincidunt auctor.</p>
                    <h4 class="page-header">3.
                        <strong>Service</strong>
                    </h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ultrices, justo vel imperdiet gravida, urna ligula hendrerit nibh, ac cursus nibh sapien in purus. Mauris tincidunt tincidunt turpis in porta. Integer fermentum tincidunt auctor.</p>
                    <h4 class="page-header">4.
                        <strong>Payments</strong>
                    </h4>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas ultrices, justo vel imperdiet gravida, urna ligula hendrerit nibh, ac cursus nibh sapien in purus. Mauris tincidunt tincidunt turpis in porta. Integer fermentum tincidunt auctor.</p>
                </div>
                <div class="modal-footer">
                    <div class="text-center">
                        <button type="button" class="btn btn-effect-ripple btn-sm btn-primary" data-dismiss="modal">I've read them!</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END Modal Terms -->
</template>

<template name="loading">
    <div class="loading spin-1">
        <div class="loading spin-2">
            <div class="loading spin-3">
                <div class="loading spin-4">
                    <div class="loading spin-5">
                        <div class="loading spin-6"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="footer">
    <!-- Footer -->
    <footer class="text-muted text-center animation-pullUp">
        <small>
            <span id="year-copy"></span>&copy; Graphpaper.io
        </small>
    </footer>
    <!-- END Footer -->
</template>

<template name="lock">
    <!-- Full Background -->
    <!-- For best results use an image with a resolution of 1280x1280 pixels (prefer a blurred image for smaller file size) -->
    <img src="img/placeholders/layout/lock_full_bg.jpg" alt="Full Background" class="full-bg full-bg-bottom animation-pulseSlow">
    <!-- END Full Background -->

    <!-- Login Container -->
    <div id="login-container">
        <!-- Lock Header -->
        <p class="text-center push-top-bottom animation-slideDown">
            <img src="img/placeholders/avatars/avatar.jpg" alt="avatar" class="img-circle img-thumbnail img-thumbnail-avatar-2x">
        </p>
        <h1 class="text-center text-light push-top-bottom animation-fadeInQuick">
            <strong>Spencer Yang</strong>
            <br>
            <small>
                <em>Entrepreneur</em>
            </small>
        </h1>
        <!-- END Lock Header -->

        <!-- Lock Form -->
        <form action="index.html" method="post" class="form-horizontal push animation-fadeInQuick">
            <div class="form-group">
                <div class="col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2">
                    <div class="input-group input-group-lg">
                        <input type="password" id="lock-password" name="lock-password" class="form-control form-control-borderless" placeholder="Enter your pass..">
                        <div class="input-group-btn">
                            <button type="submit" class="btn btn-effect-ripple btn-block btn-primary"><i class="fa fa-unlock-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
        <p class="text-center animation-fadeInQuick">
            <a href="page_ready_login.html">
                <small>Not Emily Wells?</small>
            </a>
        </p>
        <!-- END Lock Form -->
    </div>
    <!-- END Login Container -->
</template>

<template name="home">
    Hello world
</template>

<template name="test">
    <!-- <h1 style="color:red">{{id}}</h1> -->
    <br>
    <div class="block"  style="width:600px;height:600px;">
        {{> UI.dynamic template=id}}
    </div>
</template>
